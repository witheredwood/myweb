"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function MPServerlessErrorClass(errorConfig, options = {
    code: 'MPServelessError',
    message: 'mpserverless error',
}) {
    const error = {};
    class ErrorClass extends Error {
        constructor(err, customMessage) {
            super();
            this.code = options.code;
            this.message = options.message;
            if (Error.captureStackTrace) {
                Error.captureStackTrace(this, ErrorClass);
            }
            if (customMessage) {
                this.message = `${this.message}: ${customMessage}`;
            }
            if (err instanceof Error) {
                this.message = `${this.message} << ${err.message}`;
            }
            else if (typeof err === 'string') {
                this.message = `${this.message}: ${err}`;
            }
        }
    }
    Object.keys(errorConfig).forEach(e => {
        class EKlass extends ErrorClass {
            constructor(err, customMessage) {
                super(err);
                if (Error.captureStackTrace) {
                    Error.captureStackTrace(this, EKlass);
                }
                this.message = customMessage ? `${errorConfig[e].message}: ${customMessage}` : errorConfig[e].message;
                this.code = errorConfig[e].code;
                if (err instanceof Error) {
                    this.message = `${this.message} << ${err.message}`;
                }
                else if (typeof err === 'string') {
                    this.message = `${this.message}: ${err}`;
                }
                return this;
            }
        }
        EKlass.code = errorConfig[e].code;
        error[e] = EKlass;
    });
    return {
        ErrorClass,
        error,
    };
}
exports.MPServerlessErrorClass = MPServerlessErrorClass;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbGl0eS9lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWdCQSxTQUFnQixzQkFBc0IsQ0FBQyxXQUFpQyxFQUFFLFVBQTRCO0lBQ3BHLElBQUksRUFBRSxrQkFBa0I7SUFDeEIsT0FBTyxFQUFFLG9CQUFvQjtDQUM5QjtJQUNDLE1BQU0sS0FBSyxHQUVQLEVBQVMsQ0FBQztJQUVkLE1BQU0sVUFBVyxTQUFRLEtBQUs7UUFJNUIsWUFBWSxHQUFvQixFQUFFLGFBQXNCO1lBQ3RELEtBQUssRUFBRSxDQUFDO1lBSlYsU0FBSSxHQUFXLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDNUIsWUFBTyxHQUFXLE9BQU8sQ0FBQyxPQUFPLENBQUM7WUFJaEMsSUFBSyxLQUFhLENBQUMsaUJBQWlCLEVBQUU7Z0JBQ3BDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7YUFDM0M7WUFFRCxJQUFJLGFBQWEsRUFBRTtnQkFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLEtBQUssYUFBYSxFQUFFLENBQUM7YUFDcEQ7WUFFRCxJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxJQUFJLENBQUMsT0FBTyxPQUFPLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQzthQUNwRDtpQkFBTSxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLEtBQUssR0FBRyxFQUFFLENBQUM7YUFDMUM7UUFDSCxDQUFDO0tBQ0Y7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNuQyxNQUFNLE1BQU8sU0FBUSxVQUFVO1lBRzdCLFlBQVksR0FBUyxFQUFFLGFBQXNCO2dCQUMzQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBRVgsSUFBSyxLQUFhLENBQUMsaUJBQWlCLEVBQUU7b0JBQ3BDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQ3ZDO2dCQUVELElBQUksQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEtBQUssYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7Z0JBQ3RHLElBQUksQ0FBQyxJQUFJLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFFaEMsSUFBSSxHQUFHLFlBQVksS0FBSyxFQUFFO29CQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sT0FBTyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUM7aUJBQ3BEO3FCQUFNLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO29CQUNsQyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sS0FBSyxHQUFHLEVBQUUsQ0FBQztpQkFDMUM7Z0JBRUQsT0FBTyxJQUFJLENBQUM7WUFDZCxDQUFDOztRQWxCTSxXQUFJLEdBQVcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQXFCNUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQztJQUNwQixDQUFDLENBQUMsQ0FBQztJQUVILE9BQU87UUFDTCxVQUFVO1FBQ1YsS0FBSztLQUNOLENBQUM7QUFDSixDQUFDO0FBN0RELHdEQTZEQyJ9